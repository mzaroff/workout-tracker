<script>
  async function loadWorkout() {
    const response = await fetch('workout2.json');
    const data = await response.json();

    const container = document.getElementById('workout');
    container.innerHTML = `<h1>Workout ${data.workout_id}</h1><p>Last Updated: ${data.last_updated}</p>`;

    data.exercises.forEach(ex => {
      const exDiv = document.createElement('div');
      exDiv.className = 'exercise';
      let content = `<h2>${ex.name}</h2>`;

      if (Array.isArray(ex.sets)) {
        content += '<ul>';
        ex.sets.forEach(set => {
          content += `<li>${set.set ? 'Set ' + set.set + ': ' : ''}${set.reps} reps` +
                     (set.max_reps ? ` (${set.max_reps})` : '') +
                     ` x ${set.weight}</li>`;
        });
        content += '</ul>';
      } else {
        content += `<p>${ex.sets} sets x ${ex.reps} x ${ex.weight}</p>`;
      }

      if (ex.rest) content += `<p><strong>Rest:</strong> ${ex.rest}</p>`;
      if (ex.notes) content += `<p><strong>Notes:</strong> ${ex.notes}</p>`;

      exDiv.innerHTML = content;
      container.appendChild(exDiv);
    });

    // ðŸ‘‡ Scroll fix
    window.scrollTo(0, 0);
  }

  // ðŸ‘‡ Ensure DOM is fully loaded first
  window.onload = () => {
    loadWorkout();
  };
</script>
